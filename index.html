<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç·šä¸Šæ‰“å¡ç³»çµ± (Firebase)</title>
    <link rel="stylesheet" href="style.css"> 
    <style>
        /* åŸºç¤æ¨£å¼ */
        .container {
            max-width: 500px; margin: 50px auto; padding: 20px; text-align: center; border: 1px solid #ccc; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        input[type="password"], input[type="text"] {
            width: calc(100% - 20px); padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box;
        }
        button {
            background-color: #007bff; color: white; padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; width: 100%; box-sizing: border-box; margin-top: 10px;
        }
        .stage { margin-bottom: 20px; padding: 15px; border: 1px dashed #ddd; }
        .hidden { display: none; }
        .error-message { color: red; margin-top: 10px; }
        .result-box { background-color: #e9ecef; padding: 15px; border-radius: 8px; text-align: left; margin-top: 15px; }
        .highlight { color: #d9534f; font-weight: bold; }
        .password-controls { display: flex; flex-direction: column; gap: 10px; margin-top: 15px; }
        .admin-button { background-color: #6c757d !important; }
        .new-user-button { background-color: #ffc107; color: #333; margin-top: 15px; } /* æ–°å¢æŒ‰éˆ•æ¨£å¼ */
        @media (min-width: 600px) {
            .password-controls { flex-direction: row; }
            .password-controls a { flex-grow: 1; }
        }
        /* ç‰ˆæ¬Šè³‡è¨Šæ¨£å¼ */
        .footer-copyright {
            position: fixed;
            bottom: 5px;
            right: 10px;
            font-size: 12px;
            color: #ccc;
            opacity: 0.7;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ç·šä¸Šæ‰“å¡ç³»çµ± (é›²ç«¯)</h1>

        <div id="password-stage" class="stage">
            <h2>ğŸ”‘ è«‹è¼¸å…¥æ‚¨çš„**å°ˆå±¬å¯†èª**</h2>
            <input type="password" id="password-input" placeholder="è¼¸å…¥æ‚¨çš„å°ˆå±¬å¯†èª...">
            
            <div class="password-controls">
                <button onclick="checkPassword()">ç¢ºèªå¯†èªä¸¦æ‰“å¡</button>
                
                <a href="admin.html" target="_blank" style="text-decoration: none; width: 100%;">
                    <button class="admin-button">æˆ‘æ˜¯ç®¡ç†å“¡ ğŸ’»</button>
                </a>
            </div>
            
            <button class="new-user-button" onclick="showInfoStage()">ğŸ†• æˆ‘æ˜¯ç¬¬ä¸€æ¬¡ç”¨ï¼æˆ‘è¦å»ºæª”</button>

            <p id="password-error" class="error-message"></p>
        </div>

        <div id="info-stage" class="stage hidden">
            <h2>ğŸ“ é¦–æ¬¡ä½¿ç”¨ï¼šå»ºç«‹å°ˆå±¬å¯†èªä¸¦å»ºæª”</h2>
            <form id="info-form">
                <p class="instruction-text">è«‹å»ºç«‹æ‚¨çš„**å°ˆå±¬é€šé—œå¯†èª** (ä¸‹æ¬¡æ‰“å¡ä½¿ç”¨)ï¼Œä¸¦å¡«å¯«å€‹äººè³‡æ–™ã€‚</p>

                <label for="personal-password-input">å»ºç«‹æ‚¨çš„å¯†èªï¼š</label>
                <input type="password" id="personal-password-input" required placeholder="è¨­å®š 6 ä½æ•¸ä»¥ä¸Šçš„å¯†èª">
                
                <label for="class-input">ç­ç´šï¼š</label>
                <input type="text" id="class-input" required placeholder="ä¾‹å¦‚ï¼šè³‡è¨Šä¸€ç”²">

                <label for="name-input">å§“åï¼š</label>
                <input type="text" id="name-input" required placeholder="ä¾‹å¦‚ï¼šç‹å°æ˜">

                <label for="student-id-input">å­¸è™Ÿï¼š</label>
                <input type="text" id="student-id-input" required placeholder="ä¾‹å¦‚ï¼šA12345678">

                <button type="submit">âœ… å®Œæˆå»ºæª”ä¸¦æ‰“å¡</button>
            </form>
            <button onclick="resetData()" style="background-color: #dc3545; margin-top: 15px;">å–æ¶ˆä¸¦è¿”å›</button>
        </div>

        <div id="success-stage" class="stage hidden">
            <h2>âœ… æ‰“å¡æˆåŠŸï¼</h2>
            <div class="result-box">
                <p><strong>ç­ç´š:</strong> <span id="display-class"></span></p>
                <p><strong>å§“å:</strong> <span id="display-name"></span></p>
                <p><strong>å­¸è™Ÿ:</strong> <span id="display-student-id"></span></p>
                <p class="highlight"><strong>ğŸ—“ï¸ æ‰“å¡æ—¥æœŸ:</strong> <span id="display-date"></span></p>
                <p class="highlight"><strong>â° æœ¬æ¬¡ç¯€æ¬¡:</strong> <span id="display-section"></span></p>
                <p><small>æ‰“å¡æ™‚é–“: <span id="display-timestamp"></span></small></p>
            </div>
            
            <p id="upload-status" style="color: green; margin-top: 15px;">ğŸ”¥ ç´€éŒ„å·²å³æ™‚å‚³é€è‡³é›²ç«¯ã€‚</p>
            
            <button onclick="resetData()" style="background-color: #007bff; margin-top: 15px;">â¬…ï¸ è¿”å›æ‰“å¡ä»‹é¢</button>
        </div>
    </div>
    
    <div class="footer-copyright">
        Power by Ericqw
    </div>

    <script src="script.js" type="module"></script>
</body>
</html>
